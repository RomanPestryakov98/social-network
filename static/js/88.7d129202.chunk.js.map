{"version":3,"file":"static/js/88.7d129202.chunk.js","mappings":"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","sources":["components/Login/Login.js"],"sourcesContent":["import React from 'react';\r\nimport { useForm } from \"react-hook-form\";\r\nimport { login } from '../../redux/auth-reducer';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { isEmail } from 'validator';\r\nimport './Login.css';\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nfunction Login(props) {\r\n\r\n\tfunction onSubmit(data) {\r\n\t\treturn props.login(data);\r\n\t}\r\n\r\n\treturn (\r\n\t\t!props.isAuth\r\n\t\t\t?\r\n\t\t\t<LoginForm {...props} onSubmit={onSubmit} />\r\n\t\t\t:\r\n\t\t\t<Navigate to='/profile' />\r\n\t)\r\n}\r\n\r\nfunction LoginForm({ onSubmit, submitError }) {\r\n\tconst { register, setError, handleSubmit, formState: { errors } } = useForm({ mode: 'onChange' });\r\n\r\n\tasync function onHandleSubmit(data) {\r\n\t\tconst respones = await onSubmit(data);\r\n\r\n\t\tif (respones?.resultCode === 1) {\r\n\t\t\tsetError('email', { type: 'Unauthorized', message: respones.messages[0] });\r\n\t\t\tsetError('password', { type: 'Unauthorized', message: respones.messages[0] });\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit(onHandleSubmit)} className=\"login__form\">\r\n\t\t\t<label className='login__label'>\r\n\t\t\t\t<span className='login__label-text'>Почта</span>\r\n\t\t\t\t<input type=\"email\" {...register('email', {\r\n\t\t\t\t\trequired: 'Обязательное поле',\r\n\t\t\t\t\tvalidate: value => isEmail(value) || 'Нужно ввести email',\r\n\t\t\t\t})} />\r\n\t\t\t\t<span className='login__input-error'>\r\n\t\t\t\t\t{errors?.email?.message}\r\n\t\t\t\t</span>\r\n\t\t\t</label>\r\n\r\n\t\t\t<label className='login__label'>\r\n\t\t\t\t<span className='login__label-text'>Пароль</span>\r\n\t\t\t\t<input type=\"password\" {...register('password', {\r\n\t\t\t\t\trequired: 'Обязательное поле',\r\n\t\t\t\t\tminLength: {\r\n\t\t\t\t\t\tvalue: 5,\r\n\t\t\t\t\t\tmessage: \"Минимальная длина пароля 5 символов\"\r\n\t\t\t\t\t},\r\n\t\t\t\t})} />\r\n\t\t\t\t<span className='login__input-error'>\r\n\t\t\t\t\t{errors?.password?.message}\r\n\t\t\t\t</span>\r\n\t\t\t</label>\r\n\t\t\t<div>\r\n\t\t\t\t<input type=\"checkbox\" {...register('rememberMe')} />\r\n\t\t\t\t<span className='form__label-text'>Запомнить меня</span>\r\n\t\t\t</div>\r\n\t\t\t<div><input type=\"submit\" value='Войти' /></div>\r\n\t\t\t<p>{submitError && 'ошибка'}</p>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tisAuth: state.auth.isAuth\r\n\t}\r\n}\r\n\r\nlet mapDispatchToProps = {\r\n\tlogin\r\n};\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(Login);"],"names":["LoginForm","_ref","_errors$email","_errors$password","onSubmit","submitError","_useForm","useForm","mode","register","setError","handleSubmit","errors","formState","_onHandleSubmit","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","respones","wrap","_context","prev","next","sent","resultCode","type","message","messages","abrupt","stop","apply","arguments","_jsxs","_x","className","children","_jsx","_objectSpread","required","validate","value","isEmail","email","minLength","password","mapDispatchToProps","login","compose","connect","state","isAuth","auth","props","Navigate","to"],"sourceRoot":""}