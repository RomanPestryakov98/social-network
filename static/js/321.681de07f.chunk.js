"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[321],{2321:function(e,s,a){a.r(s);var n=a(4165),r=a(5861),t=a(1413),i=(a(2791),a(1134)),l=a(5796),o=a(8687),c=a(7781),u=a(2570),p=(a(5158),a(7689)),m=a(184);function d(e){var s,a,l,o=e.onSubmit,c=e.submitError,p=e.captcha,d=(0,i.cI)({mode:"onChange"}),h=d.register,x=d.setError,g=d.handleSubmit,b=d.formState.errors;function v(){return(v=(0,r.Z)((0,n.Z)().mark((function e(s){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(s);case 2:if(0===(null===(a=e.sent)||void 0===a?void 0:a.resultCode)){e.next=10;break}if("Incorrect anti-bot symbols"!==(null===a||void 0===a?void 0:a.messages[0])){e.next=7;break}return x("captcha",{type:"Symbols",message:a.messages[0]}),e.abrupt("return");case 7:return x("email",{type:"Unauthorized",message:a.messages[0]}),x("password",{type:"Unauthorized",message:a.messages[0]}),e.abrupt("return");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,m.jsxs)("form",{onSubmit:g((function(e){return v.apply(this,arguments)})),className:"login__form",children:[(0,m.jsxs)("label",{className:"login__label",children:[(0,m.jsx)("span",{className:"login__label-text",children:"\u041f\u043e\u0447\u0442\u0430"}),(0,m.jsx)("input",(0,t.Z)({type:"email"},h("email",{required:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435",validate:function(e){return(0,u.isEmail)(e)||"\u041d\u0443\u0436\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 email"}}))),(0,m.jsx)("span",{className:"login__input-error",children:null===b||void 0===b||null===(s=b.email)||void 0===s?void 0:s.message})]}),(0,m.jsxs)("label",{className:"login__label",children:[(0,m.jsx)("span",{className:"login__label-text",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),(0,m.jsx)("input",(0,t.Z)({type:"password"},h("password",{required:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435",minLength:{value:5,message:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f 5 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}}))),(0,m.jsx)("span",{className:"login__input-error",children:null===b||void 0===b||null===(a=b.password)||void 0===a?void 0:a.message})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("input",(0,t.Z)({type:"checkbox"},h("rememberMe"))),(0,m.jsx)("span",{className:"form__label-text",children:"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043c\u0435\u043d\u044f"})]}),p&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("img",{src:p,alt:"captcha"}),(0,m.jsx)("input",(0,t.Z)({type:"text"},h("captcha",{required:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}))),(0,m.jsx)("span",{className:"login__input-error",children:null===b||void 0===b||null===(l=b.captcha)||void 0===l?void 0:l.message})]}),(0,m.jsx)("div",{children:(0,m.jsx)("input",{type:"submit",value:"\u0412\u043e\u0439\u0442\u0438"})}),(0,m.jsx)("p",{children:c&&"\u043e\u0448\u0438\u0431\u043a\u0430"})]})}var h={login:l.x4};s.default=(0,c.qC)((0,o.$j)((function(e){return{isAuth:e.auth.isAuth,captcha:e.auth.captcha}}),h))((function(e){return e.isAuth?(0,m.jsx)(p.Fg,{to:"/profile"}):(0,m.jsx)(d,(0,t.Z)((0,t.Z)({},e),{},{onSubmit:function(s){return e.login(s)},captcha:e.captcha}))}))},5158:function(){}}]);
//# sourceMappingURL=321.681de07f.chunk.js.map